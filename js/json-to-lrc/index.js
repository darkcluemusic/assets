/* Compile by suryo dwijayanto */
var mLay=document.getElementById("layinput");var mIJson=document.getElementById("stext");var mLoads=document.getElementById("mload");var mShow=document.getElementById("mshow");var ltext=document.getElementById("bgs7");var okText=document.querySelector("#mltxt");var nRand=Math.floor(Math.random()*10000);var _data='';document.getElementById("convert").addEventListener("click",()=>{if(!mIJson.value){alert("Jangan kosong!")}else{mLay.style.display="none";_data=JSON.parse(mIJson.value);generate()}});function generate(){var div='';console.log(_data);for(var i=0;i<_data.lyrics.length;i++){if(_data.lyrics[i].time>0){div+='<p>';var xtime=parseMillisecondsIntoReadableTime(_data.lyrics[i].time);div+=`[`+xtime+`]`;div+=_data.lyrics[i].line+`&#10;`;div+='</p>'}}mLoads.style.display="block";var myTimeout=setTimeout(mLoad1,1000);var myTimeout=setTimeout(mLoad2,2000);var myTimeout=setTimeout(mLoad3,3000);var myTimeout=setTimeout(mLoad4,4000);var myTimeout=setTimeout(mLoad5,5000);function mLoad1(){mLoads.style.display="none";mShow.style.height="200px";$('#mshow').html(div)}function mLoad2(){xCopy()}function mLoad3(){xPaste()}function mLoad4(){xDownload()}function mLoad5(){mEndConvert()}}var xxtxt;function xCopy(){var range=document.createRange();range.selectNode(mShow);window.getSelection().removeAllRanges();window.getSelection().addRange(range);document.execCommand("copy");okText.innerHTML=range;okText.focus();window.getSelection().removeAllRanges()}function xPaste(){mShow.style.display="none";mShow.style.height="auto";ltext.style.display="block";okText.style.display="block"}function xDownload(){var link=document.createElement("a");console.log(okText.value);var file=new Blob([okText.value],{type:'text/plain'});console.log(file);link.href=URL.createObjectURL(file);link.download="json-to-lrc-by-suryo-dwijayanto-"+nRand+".lrc";link.click();URL.revokeObjectURL(link.href);ltext.style.display="none";okText.style.display="none";okText.value="";mIJson.value="";mLoads.style.display="block"}function mEndConvert(){mLoads.style.display="none";mLay.style.display="block"}function mDonate(){window.open("https://www.paypal.me/iyortml")}
