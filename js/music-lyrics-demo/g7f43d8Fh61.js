/* Compile by Suryo DwiJayanto */
function PreviewAudio(e,t){if(e.files&&e.files[0]&&$(t).length>0){$(t).stop();var i=new FileReader;i.onload=function(e){$(t).attr("src",e.target.result);var i=$(t).get(0).pause();void 0!==i&&i.then(e=>{$(t).show()}).catch(e=>{$(t).hide(),alert("File Is Not Valid Media File")})},i.readAsDataURL(e.files[0])}else $(t).attr("src",""),$(t).hide(),alert("File Not Selected")}console.clear();var _data="",currentLine="";function align(){var e=$(".highlighted").height(),t=$(".content").height(),i=$(".highlighted").offset().top-$(".highlighted").parent().offset().top;$(".content").animate({scrollTop:i+e/2-t/2+"px"},{easing:"swing",duration:250})}var lyricHeight=$(".lyrics").height();function generate(){var e="";console.log(_data);for(var t=0;t<_data.lyrics.length;t++)e+="<div",0==t&&(e+=' class="highlighted"',currentLine=0),_data.lyrics[t].note&&(e+=` note="${_data.lyrics[t].note}"`),e+=">",e+=""==_data.lyrics[t].line?"â€¢":_data.lyrics[t].line,e+="</div>";$(".lyrics").html(e),align()}async function mounted(){await generate()}function mDone(){document.getElementById("mamxa").value&&document.getElementById("stext").value?(_data=JSON.parse(document.getElementById("stext").value),document.getElementById("main-inp").style.display="none",document.getElementById("main-music").style.display="flex",mounted()):alert("Pastikan semua sudah terisi!")}$(window).on("resize",function(){$(".lyrics").height()!=lyricHeight&&(lyricHeight=$(".lyrics").height(),align())}),$(document).ready(function(){$("audio").on("timeupdate",function(e){var t=1e3*this.currentTime,i=_data.lyrics.filter(function(e){return e.time<t});_data.lyrics[i.length]!=currentLine&&(currentLine=_data.lyrics[i.length],$(".lyrics div").removeClass("highlighted"),$(`.lyrics div:nth-child(${i.length})`).addClass("highlighted"),align())})});
